(function(e){function t(t){for(var r,o,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-04cff320":"ed4d4085","chunk-25537950":"bf95e054","chunk-55020156":"0b43b69f"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-04cff320":1,"chunk-25537950":1,"chunk-55020156":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04cff320":"7acc0dc2","chunk-25537950":"6a6c50a5","chunk-55020156":"6eb6e2dc"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===a))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===r||d===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],p.parentNode.removeChild(p),n(c)},p.href=a;var l=document.getElementsByTagName("head")[0];l.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,n[1](f)}a[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/TodoList-Vue/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],c={name:"App"},u=c,i=(n("034f"),n("2877")),s=Object(i["a"])(u,o,a,!1,null,null,null),d=s.exports,f=(n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("8c4f")),p=n("2f62"),l=n("0e44"),m=n("ade3"),h=n("1da1"),g=(n("96cf"),n("bc3a")),v=n.n(g),b=v.a.create({baseURL:"https://todo-mvc-api-typeorm.herokuapp.com"});function T(e){return e.response&&e.response.data.message?e.response.data.message:e.message}b.interceptors.request.use((function(e){ue.dispatch("loader/sendRequest");var t=ue.getters["user/getUser"];if(t){var n=t.token;e.headers.Authorization="Bearer ".concat(n)}return e}),(function(e){return ue.dispatch("loader/setErrorHttp",T(e)),Promise.reject(e)})),b.interceptors.response.use((function(e){return ue.dispatch("loader/setSuccessResponse"),e.data}),(function(e){return ue.dispatch("loader/setErrorHttp",T(e)),Promise.reject(e)}));var O=b,w="/auth";function y(e){return E.apply(this,arguments)}function E(){return E=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.post("".concat(w,"/login"),{username:t.username,password:t.password});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function j(e){return O.post("".concat(w,"/register"),{username:e.username,password:e.password})}var R,k={login:y,register:j},x=k,S="SET_USER",_="REMOVE_USER",L={namespaced:!0,state:{user:null},getters:{getUser:function(e){return e.user}},actions:{login:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,x.login(t);case 3:return o=n.sent,o.token&&r(S,o),n.abrupt("return",o.data);case 6:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit;t(_)},register:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.register(t);case 2:case"end":return e.stop()}}),e)})))()}},mutations:(R={},Object(m["a"])(R,S,(function(e,t){e.user=t})),Object(m["a"])(R,_,(function(e){e.user=null})),R)},D=n("2909");n("4de4"),n("caad"),n("2532"),n("841c"),n("ac1f"),n("d81d"),n("c740"),n("a434"),n("99af");function P(e,t){return A.apply(this,arguments)}function A(){return A=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=7;break}return e.next=4,n(r,t[r]);case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function C(e,t){var n=Object(D["a"])(e),r=[];while(n.length)r.push(n.splice(0,t));return r}function M(e){return new Promise((function(t){return setTimeout(t,e)}))}function F(e){var t=e.asyncFactoryFunction,n=e.items,r=void 0===n?[]:n,o=e.batchSize,a=void 0===o?1:o,c=e.delay,u=void 0===c?0:c;return new Promise((function(e,n){var o=[],c=C(r,a);P(c,function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(r,a){var c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=a.map(t).map((function(e){return e.catch(n)})),e.next=3,Promise.all(c);case 3:return i=e.sent,o.push.apply(o,Object(D["a"])(i)),e.next=7,M(u);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(){return e(o)}))}))}var I="/api/todos";function N(e,t){return U.apply(this,arguments)}function U(){return U=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.get("".concat(I,"?page=").concat(t,"&limit=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.items);case 4:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function q(e){return O.post(I,e)}function H(e){return O.delete("".concat(I,"/").concat(e))}function B(e){return F({asyncFactoryFunction:H,items:e,batchSize:5,delay:200})}function V(e){return O.put("".concat(I,"/").concat(e.id),{content:e.content,status:e.status})}var z,G,J={getTodos:N,createTodo:q,deleteTodo:H,updateTodo:V,deleteTodoList:B},$=J,K="SET_TODOS",Q="ADD_TODO",W="DELETE_TODO",X="UPDATE_TODO",Y="SET_EDITING_TODO",Z="SET_DELETING_TODOS",ee="SET_SEARCH_TODO",te="REMOVE_TODOS",ne={namespaced:!0,state:{data:[],search:"",editingTodo:null,deletingTodos:[],isCanFetchMoreTodos:!0},getters:{getTodos:function(e){return e.data},getDoneTodo:function(e){return e.data.filter((function(e){return"completed"===e.status}))},getSearchFilter:function(e){return e.data.filter((function(t){return t.content.toLowerCase().includes(e.search.toLowerCase())}))},getEditingTodo:function(e){return e.editingTodo},getDeletingTodos:function(e){return e.deletingTodos},isCanFetchMoreTodos:function(e){return e.isCanFetchMoreTodos}},actions:{fetchTodos:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=t.page,a=t.limit,n.next=4,$.getTodos(o,a);case 4:c=n.sent,r(K,{todos:c,page:o});case 6:case"end":return n.stop()}}),n)})))()},createTodo:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,$.createTodo(t);case 3:o=n.sent,r(Q,o);case 5:case"end":return n.stop()}}),n)})))()},deleteTodo:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,$.deleteTodoList(t);case 3:r(W,t);case 4:case"end":return n.stop()}}),n)})))()},updateTodo:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,$.updateTodo(t);case 3:o=n.sent,r(X,o);case 5:case"end":return n.stop()}}),n)})))()},selectTodoToEdit:function(e,t){var n=e.commit;n(Y,t)},selectTodosToDelete:function(e,t){var n=e.commit;n(Z,t)},searchTodo:function(e,t){var n=e.commit;n(ee,t)},removeTodos:function(e){var t=e.commit;t(te)}},mutations:(z={},Object(m["a"])(z,K,(function(e,t){var n,r=t.todos,o=t.page;r.length?(1===o&&(e.data=[]),(n=e.data).push.apply(n,Object(D["a"])(r))):e.isCanFetchMoreTodos=!1})),Object(m["a"])(z,Q,(function(e,t){t.content&&e.data.unshift(t)})),Object(m["a"])(z,W,(function(e,t){t.map((function(t){var n=e.data.findIndex((function(e){return e.id===t}));e.data.splice(n,1)})),e.deletingTodos=[]})),Object(m["a"])(z,X,(function(e,t){var n=e.data.findIndex((function(e){return e.id===t.id}));e.data.splice(n,1,t),e.editingTodo=null})),Object(m["a"])(z,ee,(function(e,t){e.search=t})),Object(m["a"])(z,Y,(function(e,t){e.editingTodo=t})),Object(m["a"])(z,Z,(function(e,t){if(t.length===e.data.length)e.deletingTodos.length===e.data.length?e.deletingTodos=[]:(e.deletingTodos=[],t.map((function(t){return e.deletingTodos.push(t)})));else{var n=e.deletingTodos.findIndex((function(e){return e===t[0]}));n>=0?e.deletingTodos.splice(n,1):e.deletingTodos.push(t[0])}})),Object(m["a"])(z,te,(function(e){e.data.splice(0),e.error=null})),z)},re="SET_IS_LOADING",oe="SET_ERROR",ae="REMOVE_ERROR",ce={namespaced:!0,state:{isLoading:!1,error:null},getters:{isLoading:function(e){return e.isLoading},getError:function(e){return e.error}},actions:{sendRequest:function(e){var t=e.commit;t(ae),t(re,!0)},setSuccessResponse:function(e){var t=e.commit;t(re,!1)},setErrorHttp:function(e,t){var n=e.commit;n(oe,t),n(re,!1)},removeError:function(e){var t=e.commit;t(ae)}},mutations:(G={},Object(m["a"])(G,re,(function(e,t){e.isLoading=t})),Object(m["a"])(G,oe,(function(e,t){e.error=t})),Object(m["a"])(G,ae,(function(e){e.error=null})),G)};r["a"].use(p["a"]);var ue=new p["a"].Store({modules:{user:L,todo:ne,loader:ce},plugins:[Object(l["a"])({paths:["user.user"]})]});r["a"].use(f["a"]);var ie=new f["a"]({mode:"history",routes:[{path:"/",name:"Home",component:function(){return n.e("chunk-04cff320").then(n.bind(null,"a3b3"))},meta:{requireAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("chunk-55020156").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-25537950").then(n.bind(null,"73cf"))}}]});ie.beforeEach((function(e,t,n){var r=ue.getters["user/getUser"];e.meta.requireAuth&&!r&&n({name:"Login"}),"Login"===e.name&&r&&n({path:t.path}),n()}));n("f9e3");var se=n("7bb1"),de=n("5886");n("4413");r["a"].config.productionTip=!1,r["a"].use(de["a"]),r["a"].use(se["a"]),new r["a"]({router:ie,store:ue,render:function(e){return e(d)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.a22923b4.js.map